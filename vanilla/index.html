<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8">
  <title>Redux in a nutshell</title>

  <link href="node_modules/prismjs/themes/prism.css" rel="stylesheet">
  <script src="node_modules/prismjs/prism.js"></script>

  <link href="index.css" rel="stylesheet">
</head>
<body id="layout">

<div class="layout-box">
  <h1>Redux in a nutshell</h1>

  <button onclick="increment()">increment</button>
  <button onclick="decrement()">decrement</button>

  <p>view: <span id="view">0</span></p>

  <img src="redux.png">
</div>

<script id="app">
let state = 0;

const INCREMENT = 'INCREMENT';
const DECREMENT = 'DECREMENT';

const increment = () => dispatch({ type: INCREMENT });
const decrement = () => dispatch({ type: DECREMENT });

function reducer(currState, action) {
  switch (action.type) {
    case INCREMENT: return currState + 1;
    case DECREMENT: return currState - 1;
    default:        return currState;
  }
}

function dispatch(action) {
  state = reducer(state, action);
  render();
}

function render() {
  document.getElementById('view').textContent = state;
}
</script>

<script>
const appCode = document.getElementById('app').innerText.trim();
document.write(`<pre class="layout-box"><code class="language-js">${appCode}</code></pre>`);
</script>

</body>
</html>
